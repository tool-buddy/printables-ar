# Printables AR

An augmented reality (AR) mobile application for previewing 3D printing models in a real-world environment.

<p align="center">
  <video 
  	controls 
	width="25%"
	title="Printables AR 0.9.0 Demonstration"
    src="docs/videos/0.9.0.mp4">
    Your browser does not support the video tag.
  </video>
</p>

## Requirements

- [TriLib 2]
    - Source: https://assetstore.unity.com/packages/tools/modeling/trilib-2-model-loading-package-157548
    - Version: 2.5.5
- [DOTween]
    - Source: https://dotween.demigiant.com/download.php
    - Version: 1.2.765
- [XR Simulation Environments]
    - Source: https://github.com/Unity-Technologies/com.unity.xr-content.xr-sim-environments/releases/download/2.0.1/com.unity.xr-content.xr-sim-environments-2.0.1.tgz
    - Version: 2.0.1

## MVP Development

This is the development status of the initial version (0.9.0) on Google Play.

- ~~Proof of Concept (POC) with obj Files~~
- ~~POC Code Cleaning and Refactoring~~
- ~~User Experience Enhancements~~
    - ~~1D / 2D Rotation Switch~~
    - ~~Gestures / Back Button Support~~
    - ~~Juiciness / Interaction Feedback~~
- ~~Support Additional File Formats~~
    - ~~stl~~
    - ~~3mf~~
- ~~UI Finalization~~
- ~~Stress Testing~~
- ~~Performance Optimization~~
- Application Publishing **(Work in Progress)**
	- Mandatory 14-day Google Play Closed Testing. Please contact me if you would like to participate.

## Future Development Plans

Beyond the MVP, I have many ideas for enhancing this application, some of which I have listed on the [Issues page](https://github.com/tool-buddy/printables-ar/issues). My availability to work on these enhancements will depend on various factors. Any contribution is welcome. Please refer to the [Contributing Guidelines](CONTRIBUTING.md) if you are interested in contributing.


## Architecture

The code is centered around the [application's state machine](Assets/PrintablesAR/Scripts/Application/ApplicationStateMachine.cs) implemented using the [Stateless](https://github.com/dotnet-state-machine/stateless) libary.

The core idea is that [Application](Assets/PrintablesAR/Scripts/Application/Application.cs) fires the [application's state machine triggers](Assets/PrintablesAR/Scripts/Application/ApplicationStateMachine.Trigger.cs), and the reamining scripts (such as [ARInteractableInstantiator](Assets/PrintablesAR/Scripts/ARInteraction/ARInteractableInstantiator.cs)) react to changes of the state.

Note: The diagram bellow was automatically generated by [UpdateStateDiagram](./Tools/)
```mermaid
stateDiagram-v2
	state Decision1 <<choice>>
	state Decision2 <<choice>>
	CheckingHardware --> CheckingSoftware : RequiredHardwareFound
	CheckingHardware --> Quitting : BackButtonPressed
	CheckingSoftware --> AwaitingModel : RequiredSoftwareFound
	CheckingSoftware --> Quitting : BackButtonPressed
	AwaitingModel --> LoadingModel : ModelLoadingStarted
	AwaitingModel --> ShowingError : PermissionError
	AwaitingModel --> ShowingHelp : HelpButtonPressed
	AwaitingModel --> Quitting : BackButtonPressed
	LoadingModel --> SpawningModel : ModelLoadingSuccess
	LoadingModel --> ShowingError : ModelLoadingError
	LoadingModel --> Quitting : BackButtonPressed
	SpawningModel --> ManipulatingModel : ModelSpawned
	SpawningModel --> LoadingModel : ModelLoadingStarted
	SpawningModel --> ShowingHelp : HelpButtonPressed
	SpawningModel --> Quitting : BackButtonPressed
	ManipulatingModel --> LoadingModel : ModelLoadingStarted
	ManipulatingModel --> ShowingHelp : HelpButtonPressed
	ManipulatingModel --> Quitting : BackButtonPressed
	ShowingError --> AwaitingModel : CloseButtonPressed
	ShowingError --> AwaitingModel : BackButtonPressed
	ShowingHelp --> Decision1 : CloseButtonPressed
	ShowingHelp --> Decision2 : BackButtonPressed
[*] --> CheckingHardware
```
A similar concept is applied for [ARInteractibleStateMachine](Assets/PrintablesAR/Scripts/ARInteraction/ARInteractibleStateMachine.cs) and its related scripts.